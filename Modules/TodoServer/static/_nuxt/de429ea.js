(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{264:function(e,t,n){var content=n(267);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(78).default)("481562fa",content,!0,{sourceMap:!1})},266:function(e,t,n){"use strict";n(264)},267:function(e,t,n){(t=n(77)(!1)).push([e.i,'.stickyNote{box-shadow:0 0 5px 0 rgba(0,0,0,.75);padding:.4em .7em;color:#000;margin:.5em .2em;width:200px;height:200px;transition:background-color .2s ease;background-color:var(--varNote);overflow:hidden;display:inline-table}.stickyNote:hover{background-color:var(--varNoteHighlight)}.stickyNote:focus{background-color:var(--varNoteHighlightFocus);outline:none}.stickyNoteBehind{z-index:-102;margin:.5em .2em;width:200px;height:200px}.handle{box-sizing:border-box;position:absolute}.handle,.handle-br{width:8px;height:8px}.handle-br{bottom:1px;right:1px;cursor:se-resize;background-image:url(/drag.png);background-repeat:no-repeat;transition:background-image .2s ease-in-out}@media only screen and (max-width:768px){[class*=handle-]:before{content:"";left:-10px;right:-10px;bottom:-10px;top:-10px;position:absolute}}.stickyHolder .stickyNote:nth-child(2n) a{transform:rotate(4deg);position:relative;top:5px}.stickyHolder .stickyNote:nth-child(3n) a{transform:rotate(-3deg);position:relative;top:-5px}.stickyHolder .stickyNote:nth-child(5n) a{transform:rotate(5deg);position:relative;top:-10px}',""]),e.exports=t},272:function(e,t,n){"use strict";n.r(t);n(263),n(8),n(135),n(9),n(34);var o=n(270),r={components:{VueDraggableResizable:n.n(o).a},data:function(){return{notes:[],focusedNote:null,edit:!1,deletelock:!1,motivationalSentence:"",currentElement:null,dragMode:!1}},mounted:function(){var e=this;this.getMotivationalSentence(),this.fetchNotes(!0),setInterval((function(){e.fetchNotes(!1)}),5e3)},methods:{selectCurrentElement:function(element){this.currentElement=element},onResizing:function(e,t,n,o,r){this.currentElement=this.notes[e],this.currentElement.width=o,this.currentElement.height=r,this.changePosition(this.currentElement)},onDrag:function(e,t,n){console.log(this.notes[e]),this.currentElement=this.notes[e];var o=document.getElementsByClassName("stickyNote")[e];o.style.position="absolute",o.style.left=t,o.style.top=n,o.style.zindex=300},resetView:function(){var e=this;this.notes.forEach((function(element){element.height=200,element.width=200,e.changePosition(element)}))},getMotivationalSentence:function(){var e=this;this.$axios.get("motivationalsentence").then((function(t){e.motivationalSentence=t.data}))},fetchNotes:function(e){var t=this;this.edit&&!e||this.$axios.get("notes").then((function(e){t.notes=[],t.notes=e.data.reverse()}))},changePosition:function(e){var t=this;this.$axios.put("notes/"+e.id,{message:e.message,width:e.width,height:e.height}).then((function(n){var o=t.notes.findIndex((function(t){return t.id===e.id}));t.notes[o]=n.data,t.$forceUpdate()})),this.newNote=""},changeMessage:function(e){var t=this;this.$axios.put("notes/"+e.id,{message:e.message,width:e.width,height:e.height}).then((function(n){var o=t.notes.findIndex((function(t){return t.id===e.id}));t.notes[o]=n.data,t.$forceUpdate()})),this.newNote=""},addNote:function(){var e=this;this.$axios.post("notes",{message:"Enter text...",width:200,height:200}).then((function(t){e.notes.unshift(t.data),e.fetchNotes(!0)}))},removeNote:function(e){var t=this;this.deletelock||!e||this.edit||(this.deletelock=!0,this.currentElement=null,this.$axios.delete("notes/"+e.id).then((function(n){t.deletelock=!1;var o=t.notes.findIndex((function(t){return t.id===e.id}));t.notes.splice(o,1),t.$forceUpdate()})))}}},c=(n(266),n(79)),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-container",{staticClass:"mt-2",attrs:{fluid:"lg"}},[n("h1",[e._v("\n      Notes\n      "),n("span",{staticClass:"align-middle align-self-center",staticStyle:{"font-weight":"200","font-size":"0.5em"}},[n("a",{on:{click:e.getMotivationalSentence}},[e._v("\n          "+e._s(e.motivationalSentence))])])]),e._v(" "),n("b-button",{on:{click:e.addNote}},[e._v("Add Note")]),e._v(" "),n("b-button",{on:{click:function(t){return e.removeNote(e.currentElement)}}},[e._v("Delete Note")]),e._v(" "),n("b-button",{on:{click:function(t){e.edit=!e.edit}}},[e._v("Edit")]),e._v(" "),n("b-button",{on:{click:function(t){return e.resetView()}}},[e._v("Reset View")]),e._v(" "),n("span",[e._v("Dragmode: "),n("b-check",{staticStyle:{display:"inline"},model:{value:e.dragMode,callback:function(t){e.dragMode=t},expression:"dragMode"}})],1),e._v(" "),e.currentElement?n("b-modal",{attrs:{size:"lg"},model:{value:e.edit,callback:function(t){e.edit=t},expression:"edit"}},[n("div",{staticClass:"my-1"},[e.currentElement?n("b-form-textarea",{attrs:{placeholder:"Enter something...",rows:"6","max-rows":"6"},on:{change:function(t){return e.changeMessage(e.currentElement)}},model:{value:e.currentElement.message,callback:function(t){e.$set(e.currentElement,"message",t)},expression:"currentElement.message"}}):e._e()],1)]):e._e(),e._v(" "),n("div",{staticClass:"stickyHolder d-flex flex-row flex-wrap justify-content-lg-around align-items-lg-start align-content-lg-start"},e._l(e.notes,(function(t,o){return n("vue-draggable-resizable",{key:o,staticClass:"stickyNote stickyNoteBehind",attrs:{draggable:e.dragMode,resizable:!0,w:t.width,h:t.height,tabindex:"0"},on:{resizestop:function(t){for(var i=arguments.length,n=Array(i);i--;)n[i]=arguments[i];return e.onResizing.apply(void 0,[o].concat(n))},dragstop:function(t){for(var i=arguments.length,n=Array(i);i--;)n[i]=arguments[i];return e.onDrag.apply(void 0,[o].concat(n))},click:function(t){return e.document.focus()}},nativeOn:{dblclick:function(t){e.edit=!e.edit},click:function(n){return e.selectCurrentElement(t)},keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"])?null:e.removeNote(t)}}},[n("div",{staticClass:"w-100 h-100"},[n("span",{staticStyle:{"white-space":"pre-line"}},[e._v(e._s(t.message))])])])})),1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);